<!doctype html>
<html lang="id"> 
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>OSIM DIGITAL | Official Student Portal</title> 
  
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
  
  <style>
    /* --- VARIABEL TEMA MODERN --- */
    :root {
        --bg-color: #F8FAFC; 
        --text-color: #0F172A;
        --accent-color: #2563EB;
        --accent-hover: #1E40AF;
        --secondary-bg: #FFFFFF;
        --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        --nav-bg: rgba(248, 250, 252, 0.8);
        --glass-border: rgba(255, 255, 255, 0.2);
        --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dark-mode {
        --bg-color: #0F172A; 
        --text-color: #F8FAFC;
        --accent-color: #60A5FA; 
        --accent-hover: #93C5FD;
        --secondary-bg: #1E293B;
        --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        --nav-bg: rgba(15, 23, 42, 0.8);
        --glass-border: rgba(255, 255, 255, 0.05);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }

    body {
        background-color: var(--bg-color);
        color: var(--text-color);
        transition: var(--transition);
        overflow-x: hidden;
    }

    /* --- NAVIGATION --- */
    nav {
        position: fixed;
        top: 0; left: 0; width: 100%;
        padding: 20px 8%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 2000;
        background: var(--nav-bg);
        backdrop-filter: blur(15px);
        border-bottom: 1px solid var(--glass-border);
    }

    .logo {
        font-size: 1.5rem;
        font-weight: 800;
        letter-spacing: -0.5px;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .nav-btns {
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .theme-toggle {
        background: var(--secondary-bg);
        border: 1.5px solid var(--accent-color);
        color: var(--accent-color);
        width: 42px; height: 42px;
        border-radius: 12px;
        cursor: pointer;
        display: flex; align-items: center; justify-content: center;
        transition: var(--transition);
        box-shadow: var(--card-shadow);
    }

    .theme-toggle:hover { transform: rotate(15deg) scale(1.1); }

    .hamburger {
        cursor: pointer;
        display: flex; flex-direction: column; gap: 6px;
        z-index: 2001;
    }

    .hamburger span {
        display: block; height: 3px; width: 30px;
        background: var(--text-color); border-radius: 3px;
        transition: var(--transition);
    }

    .hamburger.active span:nth-child(1) { transform: translateY(9px) rotate(45deg); }
    .hamburger.active span:nth-child(2) { opacity: 0; }
    .hamburger.active span:nth-child(3) { transform: translateY(-9px) rotate(-45deg); }

    /* --- SIDEBAR MENU --- */
    .menu-overlay {
        position: fixed; top: 0; right: -100%;
        width: 100%; height: 100vh;
        background: var(--bg-color);
        z-index: 1500;
        transition: 0.6s cubic-bezier(0.77, 0, 0.175, 1);
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        text-align: center;
    }

    .menu-overlay.active { right: 0; }

    .menu-nav { list-style: none; }
    .menu-nav li { margin: 25px 0; opacity: 0; transform: translateY(20px); transition: 0.5s; }
    .menu-overlay.active .menu-nav li { opacity: 1; transform: translateY(0); }
    .menu-overlay.active .menu-nav li:nth-child(1) { transition-delay: 0.1s; }
    .menu-overlay.active .menu-nav li:nth-child(2) { transition-delay: 0.2s; }
    .menu-overlay.active .menu-nav li:nth-child(3) { transition-delay: 0.3s; }
    .menu-overlay.active .menu-nav li:nth-child(4) { transition-delay: 0.4s; }

    .menu-link {
        font-size: 2.5rem;
        font-weight: 800;
        text-decoration: none;
        color: var(--text-color);
        transition: var(--transition);
    }

    .menu-link:hover { color: var(--accent-color); padding-left: 15px; }

    /* --- SECTIONS --- */
    .content-section {
        display: none;
        padding: 120px 8% 60px;
        min-height: 100vh;
    }

    .content-section.active { display: block; animation: fadeInUp 0.8s ease; }

    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .hero-title { font-size: clamp(2.2rem, 10vw, 4.5rem); font-weight: 800; line-height: 1.1; margin-bottom: 20px; }
    .hero-title span { color: var(--accent-color); }

    /* --- CARDS --- */
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-top: 40px; }
    
    .card {
        background: var(--secondary-bg);
        padding: 30px;
        border-radius: 24px;
        box-shadow: var(--card-shadow);
        border: 1px solid var(--glass-border);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
    }

    .card:hover { transform: translateY(-10px); }

    .card-tag {
        display: inline-block;
        padding: 6px 14px;
        background: var(--accent-color);
        color: white;
        border-radius: 100px;
        font-size: 0.75rem;
        font-weight: 700;
        margin-bottom: 15px;
    }

    /* --- CALENDAR --- */
    .calendar-card {
        background: var(--secondary-bg);
        border-radius: 24px;
        padding: 30px;
        box-shadow: var(--card-shadow);
    }

    .cal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
    
    .cal-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
        text-align: center;
    }

    .cal-day-name { font-weight: 800; font-size: 0.8rem; color: var(--accent-color); padding-bottom: 10px; }

    .cal-date {
        aspect-ratio: 1;
        display: flex; align-items: center; justify-content: center;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.2s;
        background: rgba(0,0,0,0.03);
    }

    .cal-date.has-event {
        background: var(--accent-color);
        color: white;
        box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
    }

    .cal-date.today { border: 2px solid var(--accent-color); color: var(--accent-color); }

    /* --- STATS --- */
    .stat-row { display: flex; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
    .stat-box {
        flex: 1; min-width: 150px;
        background: var(--secondary-bg);
        padding: 25px;
        border-radius: 20px;
        text-align: center;
        box-shadow: var(--card-shadow);
    }
    .stat-num { font-size: 2rem; font-weight: 800; color: var(--accent-color); }

    /* --- FOOTER --- */
    footer { padding: 60px 8%; text-align: center; border-top: 1px solid var(--glass-border); opacity: 0.6; font-size: 0.9rem; }

    .btn-icon {
        width: 40px; height: 40px;
        border-radius: 10px;
        border: none;
        background: var(--accent-color);
        color: white;
        cursor: pointer;
    }

  </style> 
 </head> 
 <body> 

  <nav> 
   <div class="logo">
    <i class="fas fa-fingerprint" style="color: var(--accent-color);"></i>
    OSIM<span>CORE</span>
   </div> 
   <div class="nav-btns"> 
    <button class="theme-toggle" onclick="toggleTheme()" title="Ganti Tema"> 
        <i class="fas fa-moon" id="theme-icon"></i> 
    </button> 
    <div class="hamburger" onclick="toggleMenu()"> 
        <span></span><span></span><span></span> 
    </div> 
   </div> 
  </nav> 

  <div class="menu-overlay" id="menuOverlay"> 
   <ul class="menu-nav"> 
    <li><a href="javascript:void(0)" class="menu-link" onclick="navigate('home')">Home</a></li> 
    <li><a href="javascript:void(0)" class="menu-link" onclick="navigate('ann')">Info</a></li> 
    <li><a href="javascript:void(0)" class="menu-link" onclick="navigate('evt')">Agenda</a></li> 
    <li><a href="javascript:void(0)" class="menu-link" onclick="navigate('gal')">Gallery</a></li> 
   </ul> 
  </div> 

  <main id="sec-home" class="content-section active"> 
    <div style="max-width: 800px;">
        <h1 class="hero-title">Inovasi Digital<br>Untuk <span>Masa Depan</span> OSIM.</h1> 
        <p style="font-size: 1.2rem; opacity: 0.7; line-height: 1.6; margin-bottom: 30px;">
            Selamat datang di platform integrasi data resmi. Pantau seluruh program kerja, pengumuman, dan dokumentasi kegiatan dalam satu pintu.
        </p> 
        <button class="theme-toggle" style="width: auto; padding: 0 25px; border-radius: 100px;" onclick="navigate('ann')">
            Mulai Eksplorasi <i class="fas fa-arrow-right" style="margin-left: 10px;"></i>
        </button>
    </div>
  </main> 

  <section id="sec-ann" class="content-section"> 
    <h1 class="hero-title"><span>Pengumuman</span> Terbaru</h1> 
    <div class="grid" id="ann-container">
        <p>Menghubungkan ke server...</p>
    </div> 
  </section> 

  <section id="sec-evt" class="content-section"> 
    <h1 class="hero-title">Kalender <span>Agenda</span></h1> 
    <div class="grid">
        <div class="calendar-card">
            <div class="cal-header">
                <button class="btn-icon" onclick="changeMonth(-1)"><i class="fas fa-chevron-left"></i></button>
                <h2 id="calMonthTitle" style="font-weight: 800;">Januari 2026</h2>
                <button class="btn-icon" onclick="changeMonth(1)"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="cal-grid" id="calGrid">
                </div>
        </div>
        <div class="card">
            <h3>Detail Kegiatan</h3>
            <div id="event-detail-list" style="margin-top: 20px;">
                <p style="opacity: 0.6;">Pilih tanggal berwarna biru untuk melihat detail acara.</p>
            </div>
        </div>
    </div>
  </section> 

  <section id="sec-gal" class="content-section"> 
    <h1 class="hero-title">Visual <span>Dokumentasi</span></h1> 
    <div class="stat-row"> 
     <div class="stat-box"> <div class="stat-num" id="stat-alb">0</div> <p>Album Kerja</p> </div> 
     <div class="stat-box"> <div class="stat-num" id="stat-pho">0</div> <p>Koleksi Foto</p> </div> 
    </div> 
    <div class="grid" id="gal-container">
        </div>
  </section> 

  <footer>
    <p>© 2026 OSIM DIGITAL ENGINE. Dikembangkan dengan Firebase Realtime Database.</p>
  </footer> 

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCT7yu1D0qsW2lyK4ZMYia029nEvvMMDCs",
      authDomain: "webosim-5c4a7.firebaseapp.com",
      projectId: "webosim-5c4a7",
      databaseURL: "https://webosim-5c4a7-default-rtdb.asia-southeast1.firebasedatabase.app"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // --- REAL-TIME SYNC: PENGUMUMAN ---
    onValue(ref(db, 'announcements'), (snapshot) => {
        const container = document.getElementById('ann-container');
        container.innerHTML = '';
        if(snapshot.exists()) {
            const data = snapshot.val();
            Object.values(data).reverse().forEach(item => {
                container.innerHTML += `
                    <div class="card">
                        <span class="card-tag">${item.tag || 'INFO'}</span>
                        <h2 style="margin-bottom:15px">${item.title}</h2>
                        <p style="opacity:0.8; margin-bottom:20px; line-height:1.6">${item.content}</p>
                        <div style="font-size:0.8rem; font-weight:700; opacity:0.5">
                            <i class="fas fa-calendar-day"></i> ${item.date}
                        </div>
                    </div>`;
            });
        } else {
            container.innerHTML = '<p>Belum ada pengumuman resmi.</p>';
        }
    });

    // --- REAL-TIME SYNC: AGENDA ---
    onValue(ref(db, 'events'), (snapshot) => {
        window.allEvents = snapshot.val() || {};
        renderCalendar();
    });

    // --- REAL-TIME SYNC: STATS ---
    onValue(ref(db, 'stats/gallery'), (snapshot) => {
        if(snapshot.exists()){
            document.getElementById('stat-alb').innerText = snapshot.val().albums || 0;
            document.getElementById('stat-pho').innerText = snapshot.val().photos || 0;
        }
    });
  </script>

  <script>
    let currentMonth = new Date();

    // 1. Theme Logic (LocalStorage - Hemat Database)
    function toggleTheme() {
        const isDark = document.body.classList.toggle('dark-mode');
        const icon = document.getElementById('theme-icon');
        localStorage.setItem('osim_theme', isDark ? 'dark' : 'light');
        icon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
    }

    // Load saved theme
    if(localStorage.getItem('osim_theme') === 'dark') {
        document.body.classList.add('dark-mode');
        document.getElementById('theme-icon').className = 'fas fa-sun';
    }

    // 2. Navigation Logic
    function toggleMenu() {
        document.getElementById('menuOverlay').classList.toggle('active');
        document.querySelector('.hamburger').classList.toggle('active');
    }

    function navigate(id) {
        document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        document.getElementById('sec-' + id).classList.add('active');
        toggleMenu();
        window.scrollTo(0, 0);
    }

    // 3. Kalender Logic
    function changeMonth(dir) {
        currentMonth.setMonth(currentMonth.getMonth() + dir);
        renderCalendar();
    }

    function renderCalendar() {
        const grid = document.getElementById('calGrid');
        const title = document.getElementById('calMonthTitle');
        if(!grid) return;

        grid.innerHTML = '';
        const dayNames = ['Min', 'Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab'];
        dayNames.forEach(d => grid.innerHTML += `<div class="cal-day-name">${d}</div>`);

        title.innerText = currentMonth.toLocaleDateString('id-ID', { month: 'long', year: 'numeric' });

        const firstDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1).getDay();
        const daysInMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0).getDate();

        for(let i=0; i<firstDay; i++) grid.innerHTML += '<div></div>';

        for(let d=1; d<=daysInMonth; d++) {
            const dateStr = `${currentMonth.getFullYear()}-${String(currentMonth.getMonth()+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
            const isToday = new Date().toDateString() === new Date(currentMonth.getFullYear(), currentMonth.getMonth(), d).toDateString() ? 'today' : '';
            const hasEvent = (window.allEvents && window.allEvents[dateStr]) ? 'has-event' : '';
            
            grid.innerHTML += `<div class="cal-date ${isToday} ${hasEvent}" onclick="showEventDetail('${dateStr}')">${d}</div>`;
        }
    }

    function showEventDetail(date) {
        const container = document.getElementById('event-detail-list');
        const event = window.allEvents ? window.allEvents[date] : null;
        
        if(event) {
            container.innerHTML = `
                <div style="border-left: 4px solid var(--accent-color); padding-left: 15px;">
                    <h4 style="color:var(--accent-color)">${date}</h4>
                    <ul style="margin-top:10px; list-style:none">
                        ${event.map(e => `<li style="margin-bottom:8px; font-weight:600"><i class="fas fa-check-circle"></i> ${e}</li>`).join('')}
                    </ul>
                </div>`;
        } else {
            container.innerHTML = `<p style="opacity:0.5">Tidak ada agenda pada tanggal ${date}.</p>`;
        }
    }
  </script>
 </body>
</html>

        .theme-btn {
            background: var(--secondary-bg);
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            width: 45px; height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: var(--transition);
        }

        /* --- HAMBURGER --- */
        .hamburger {
            cursor: pointer;
            width: 30px;
            height: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            z-index: 1001;
        }

        .hamburger span {
            display: block;
            height: 3px;
            width: 100%;
            background: var(--text-color);
            border-radius: 3px;
            transition: var(--transition);
        }

        .hamburger.active span:nth-child(1) { transform: translateY(8.5px) rotate(45deg); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: translateY(-8.5px) rotate(-45deg); }

        /* --- SIDE MENU (EXTERNAL LINKS) --- */
        .side-menu {
            position: fixed;
            top: 0; right: -100%;
            width: 100%; height: 100vh;
            background: var(--bg-color);
            z-index: 900;
            display: grid;
            grid-template-columns: 1fr 1fr;
            transition: 0.6s ease-in-out;
            overflow-y: auto;
        }

        .side-menu.active { right: 0; }

        .menu-links {
            display: flex;
            flex-direction: column;
            padding: 120px 10% 50px 15%;
            gap: 20px;
        }

        .menu-section-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent-color);
            margin-bottom: 5px;
            opacity: 0.8;
        }

        .menu-item {
            text-decoration: none;
            color: var(--text-color);
            display: flex;
            align-items: flex-start;
            gap: 20px;
            transition: 0.3s;
            padding: 15px;
            border-radius: 12px;
        }

        .menu-item:hover {
            background: rgba(30, 64, 175, 0.1);
            transform: translateX(10px);
        }

        .menu-item i {
            font-size: 1.8rem;
            color: var(--accent-color);
            width: 40px;
            text-align: center;
            margin-top: 5px;
        }

        .menu-text h2 { font-size: 1.6rem; font-weight: 800; }
        .menu-text p { font-size: 0.9rem; opacity: 0.6; margin-top: 4px; }

        .menu-extra {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            padding: 120px 10% 50px 10%;
            border-left: 1px solid rgba(30, 64, 175, 0.1);
        }

        .quote-box {
            margin: 30px 0;
            padding: 25px;
            border-left: 4px solid var(--accent-color);
            background: var(--secondary-bg);
            border-radius: 0 15px 15px 0;
        }

        /* --- HERO --- */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 8%;
        }

        .hero-title {
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 800;
            line-height: 1.1;
        }

        .hero-title span { color: var(--accent-color); }

        /* --- INFO GRID --- */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 50px;
            padding: 100px 8%;
            background: var(--secondary-bg);
        }

        .info-card h3 {
            color: var(--accent-color);
            font-size: 1.2rem;
            margin-bottom: 25px;
            text-transform: uppercase;
            display: flex;
            align-items: center; gap: 10px;
        }

        .info-list { list-style: none; }
        .info-list li {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .info-list i { color: var(--accent-color); width: 20px; text-align: center; }

        /* --- PAGE CONTENT STYLES --- */
        .page-content {
            display: none;
            min-height: 100vh;
            padding: 120px 8% 60px;
        }

        .page-content.active {
            display: block;
        }

        /* --- PENGUMUMAN PAGE STYLES --- */
        .announcement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .announcement-card {
            background: var(--secondary-bg);
            border-radius: 15px;
            padding: 25px;
            transition: var(--transition);
            border: 1px solid rgba(30, 64, 175, 0.1);
        }

        .announcement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .announcement-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .announcement-badge {
            background: var(--accent-color);
            color: var(--bg-color);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .announcement-date {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .announcement-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .announcement-content {
            opacity: 0.8;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .announcement-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid rgba(30, 64, 175, 0.1);
        }

        .announcement-attachment {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--accent-color);
            font-size: 0.9rem;
        }

        /* --- NOT FOUND CONTENT STYLES --- */
        .not-found-container {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .not-found-icon {
            font-size: 6rem;
            color: var(--accent-color);
            margin-bottom: 40px;
        }

        .not-found-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .not-found-title span {
            color: var(--accent-color);
        }

        .not-found-desc {
            font-size: 1.1rem;
            max-width: 700px;
            opacity: 0.8;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            background: var(--accent-color);
            color: var(--bg-color);
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(30, 64, 175, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
        }

        /* --- PROKER PAGE STYLES --- */
        .coming-soon {
            margin-top: 60px;
            padding: 25px;
            background: var(--secondary-bg);
            border-radius: 15px;
            max-width: 800px;
            width: 100%;
        }

        .timeline {
            list-style: none;
            padding-left: 0;
            margin-top: 20px;
        }

        .timeline li {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 8px;
            background: rgba(30, 64, 175, 0.05);
        }

        .timeline i {
            color: var(--accent-color);
            font-size: 1.1rem;
        }

        /* --- KEGIATAN PAGE STYLES --- */
        .calendar-placeholder {
            background: var(--secondary-bg);
            border-radius: 15px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 40px;
            border: 2px dashed rgba(30, 64, 175, 0.3);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(30, 64, 175, 0.2);
        }

        .month-nav {
            background: transparent;
            border: none;
            color: var(--accent-color);
            font-size: 1.3rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .current-month {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            text-align: center;
        }

        .day-name {
            font-weight: 600;
            padding: 12px;
            color: var(--accent-color);
            background: rgba(30, 64, 175, 0.1);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .day {
            padding: 15px 8px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .day.event {
            background: rgba(30, 64, 175, 0.15);
            color: var(--text-color);
            position: relative;
        }

        .day.event::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 5px;
            height: 5px;
            background: var(--accent-color);
            border-radius: 50%;
        }

        /* --- GALERI PAGE STYLES --- */
        .gallery-preview {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            max-width: 900px;
            width: 100%;
            margin-top: 40px;
        }

        .gallery-item {
            aspect-ratio: 1;
            background: var(--secondary-bg);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            transition: var(--transition);
        }

        .gallery-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.1), rgba(240, 244, 248, 0.3));
        }

        .album-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 800px;
            width: 100%;
            margin-top: 40px;
        }

        .album-stat {
            background: var(--secondary-bg);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
        }

        /* --- PROFIL PAGE STYLES --- */
        .team-structure {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            max-width: 1000px;
            width: 100%;
            margin-top: 40px;
        }

        .team-level {
            background: var(--secondary-bg);
            padding: 25px;
            border-radius: 15px;
            transition: var(--transition);
        }

        .level-title {
            color: var(--accent-color);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center; gap: 10px;
        }

        .level-members {
            list-style: none;
        }

        .level-members li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .member-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: rgba(30, 64, 175, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-color);
            font-size: 0.9rem;
        }

        .structure-info {
            background: var(--secondary-bg);
            border-radius: 15px;
            padding: 30px;
            max-width: 800px;
            width: 100%;
            margin-top: 40px;
        }

        .structure-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(30, 64, 175, 0.05);
            border-radius: 8px;
        }

        /* --- FOOTER --- */
        footer {
            padding: 40px 8%;
            text-align: center;
            opacity: 0.4;
            font-size: 0.8rem;
            border-top: 1px solid rgba(30, 64, 175, 0.1);
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 992px) {
            .side-menu { grid-template-columns: 1fr; }
            .menu-extra { display: none; }
            .menu-links { padding: 100px 8%; }
            .gallery-preview { grid-template-columns: repeat(2, 1fr); }
            .album-stats { grid-template-columns: repeat(2, 1fr); }
            .structure-features { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .not-found-icon { font-size: 5rem; }
            .calendar-grid { gap: 5px; }
            .day { padding: 12px 5px; font-size: 0.8rem; }
            .action-buttons { flex-direction: column; width: 100%; }
            .btn { width: 100%; justify-content: center; }
            .gallery-preview { grid-template-columns: 1fr; }
            .album-stats { grid-template-columns: 1fr; }
        }

        @media (max-width: 576px) {
            .team-structure { grid-template-columns: 1fr; }
            .gallery-preview { grid-template-columns: 1fr; }
        }
    </style> 
 </head> 
 <body> 
  <nav> 
   <div class="logo"> <i class="fas fa-shield-halved" style="color: var(--accent-color);"></i> OSIM DIGITAL 
   </div> 
   <div class="nav-controls"> <button class="theme-btn" onclick="toggleTheme()"> <i class="fas fa-moon" id="theme-icon"></i> </button> 
    <div class="hamburger" onclick="toggleMenu()"> <span></span> <span></span> <span></span> 
    </div> 
   </div> 
  </nav> 
  <div class="side-menu" id="side-menu"> 
   <div class="menu-links"> 
    <div class="menu-section-title">
     Navigasi Halaman
    </div> <a href="#" class="menu-item" onclick="showPage('home')"> <i class="fas fa-house"></i> 
     <div class="menu-text"> 
      <h2>Beranda</h2> 
      <p>Kembali ke halaman utama dan ringkasan info</p> 
     </div> </a> <a href="#" class="menu-item" onclick="showPage('proker')"> <i class="fas fa-list-check"></i> 
     <div class="menu-text"> 
      <h2>Program Kerja</h2> 
      <p>Detail rencana &amp; realisasi kerja OSIM</p> 
     </div> </a> <a href="#" class="menu-item" onclick="showPage('pengumuman')"> <i class="fas fa-bullhorn"></i> 
     <div class="menu-text"> 
      <h2>Pengumuman OSIM</h2> 
      <p>Informasi resmi dan pengumuman terbaru</p> 
     </div> </a> <a href="https://arin-ops.github.io/suarakann/" target="_blank" class="menu-item"> <i class="fas fa-comment-dots"></i> 
     <div class="menu-text"> 
      <h2>Portal Aspirasi</h2> 
      <p>Suarakan pendapatmu di platform resmi</p> 
     </div> </a> 
    <div class="menu-section-title" style="margin-top: 20px;">
     Sistem Digital
    </div> <a href="#" class="menu-item" onclick="showPage('kegiatan')"> <i class="fas fa-calendar-alt"></i> 
     <div class="menu-text"> 
      <h2>Kegiatan</h2> 
      <p>Lihat jadwal agenda mendatang</p> 
     </div> </a> <a href="#" class="menu-item" onclick="showPage('galeri')"> <i class="fas fa-images"></i> 
     <div class="menu-text"> 
      <h2>Galeri</h2> 
      <p>Kumpulan foto dan dokumentasi kegiatan</p> 
     </div> </a> <a href="#" class="menu-item" onclick="showPage('profil')"> <i class="fas fa-user-friends"></i> 
     <div class="menu-text"> 
      <h2>Profil Pengurus</h2> 
      <p>Daftar lengkap jajaran pengurus OSIM</p> 
     </div> </a> 
   </div> 
   <div class="menu-vextra"> 
    <div class="menu-section-title">
     Inspirasi
    </div> 
    <div class="quote-box"> 
     <p style="font-style: italic; font-size: 1.1rem; line-height: 1.4;"> "Kepemimpinan adalah kapasitas untuk menerjemahkan visi menjadi kenyataan." </p> 
     <p style="color: var(--accent-color); margin-top: 15px; font-weight: 800;">— Warren Bennis</p> 
    </div> 
    <div class="menu-section-title" style="margin-top: 20px;">
     Hubungi Kami
    </div> 
    <ul class="info-list" style="margin-top: 10px;"> 
     <li><i class="fas fa-envelope"></i> osim@sekolah.sch.id</li> 
     <li><i class="fab fa-instagram"></i> @osim_digital</li> 
     <li><i class="fab fa-tiktok"></i> @osim.resmi</li> 
     <li><i class="fab fa-whatsapp"></i> +62 812-3456-7890</li> 
    </ul> 
   </div> 
  </div> <main id="home-page" class="page-content active"> 
   <section class="hero"> 
    <h1 class="hero-title">Mewujudkan<br>Organisasi <span>Modern</span><br>&amp; Akuntabel</h1> 
    <p style="max-width: 600px; margin-top: 20px; opacity: 0.7; border-left: 3px solid var(--accent-color); padding-left: 20px;"> Pusat informasi resmi, transparansi program kerja, dan wadah aspirasi siswa yang aman secara digital. </p> 
   </section> 
   <section class="info-grid"> 
    <div class="info-card"> 
     <h3><i class="fas fa-info-circle"></i> Tentang Kami</h3> 
     <p>Membangun ekosistem OSIM yang modern, transparan, dan akuntabel melalui pemanfaatan teknologi digital.</p> 
     <ul class="info-list" style="margin-top: 15px;"> 
      <li><i class="fas fa-map-marker-alt"></i> Sekolah Menengah Atas Negeri 1</li> 
     </ul> 
    </div> 
    <div class="info-card"> 
     <h3><i class="fas fa-address-book"></i> Hubungi Kami</h3> 
     <ul class="info-list"> 
      <li><i class="fas fa-envelope"></i> osim@sekolah.sch.id</li> 
      <li><i class="fab fa-instagram"></i> @osim_digital</li> 
      <li><i class="fab fa-tiktok"></i> @osim.resmi</li> 
      <li><i class="fab fa-whatsapp"></i> +62 812-3456-7890</li> 
     </ul> 
    </div> 
    <div class="info-card"> 
     <h3><i class="fas fa-cogs"></i> Sistem</h3> 
     <p>Akses terpusat untuk seluruh layanan digital OSIM.</p> 
     <p style="color: var(--accent-color); font-weight: 600; margin-top: 10px;"> <i class="fas fa-lock"></i> Akses Terautorisasi </p> 
    </div> 
   </section> 
  </main> <div id="pengumuman-page" class="page-content"> 
   <div class="not-found-container" style="align-items: flex-start; text-align: left;"> 
    <div style="width: 100%; max-width: 1200px;"> 
     <div class="not-found-icon" style="margin-bottom: 30px;"> <i class="fas fa-bullhorn"></i> 
     </div> 
     <h1 class="not-found-title">Pengumuman <span>OSIM</span></h1> 
     <p class="not-found-desc" style="text-align: left; margin-bottom: 40px;"> Informasi resmi, pengumuman kegiatan, dan berita terbaru dari OSIM. Pastikan Anda selalu memeriksa halaman ini untuk mendapatkan informasi terkini. </p> 
     <div class="announcement-grid" id="announcement-container"> 
       <p>Memuat pengumuman...</p>
     </div> 
    </div> 
   </div> 
  </div> <div id="proker-page" class="page-content"> 
   <div class="not-found-container"> 
    <div class="not-found-icon"> <i class="fas fa-tasks"></i> 
    </div> 
    <h1 class="not-found-title">Program Kerja <span>Segera Hadir</span></h1> 
    <p class="not-found-desc"> Kami sedang menyusun rencana kerja yang terstruktur dan inovatif untuk periode kepengurusan ini. Program kerja kami akan mencakup berbagai bidang dengan tujuan meningkatkan kualitas kegiatan siswa dan mengembangkan potensi seluruh anggota OSIM. </p> 
    <div class="action-buttons"> <a href="https://arin-ops.github.io/suarakann/" target="_blank" class="btn btn-outline"> <i class="fas fa-lightbulb"></i> Berikan Saran </a> 
    </div> 
    <div class="coming-soon"> 
     <h3><i class="fas fa-calendar-alt"></i> Timeline Pengembangan</h3> 
     <ul class="timeline"> 
      <li><i class="fas fa-search"></i> <strong>Analisis Kebutuhan:</strong> Survei dan identifikasi program prioritas</li> 
      <li><i class="fas fa-pencil-alt"></i> <strong>Penyusunan Rencana:</strong> Membuat blueprint program kerja detail</li> 
      <li><i class="fas fa-check-circle"></i> <strong>Validasi:</strong> Presentasi dan persetujuan dari pembina OSIM</li> 
      <li><i class="fas fa-rocket"></i> <strong>Peluncuran:</strong> Publikasi dan implementasi program kerja</li> 
     </ul> 
    </div> 
   </div> 
  </div> <div id="kegiatan-page" class="page-content"> 
   <div class="not-found-container"> 
    <div class="not-found-icon"> <i class="fas fa-calendar-alt"></i> 
    </div> 
    <h1 class="not-found-title">Kalender Kegiatan <span>OSIM 2025/2026</span></h1> 
    <p class="not-found-desc"> Lihat semua agenda dan kegiatan OSIM yang telah direncanakan. Kalender ini akan terus diperbarui dengan kegiatan-kegiatan terbaru. </p> 
    <div class="calendar-placeholder"> 
     <div class="calendar-header"> <button class="month-nav" onclick="changeMonth(-1)"><i class="fas fa-chevron-left"></i></button> 
      <div class="current-month" id="currentMonth">
       </div> <button class="month-nav" onclick="changeMonth(1)"><i class="fas fa-chevron-right"></i></button> 
     </div> 
     <div class="calendar-grid" id="calendarGrid"> 
      <div class="day-name">
       Min
      </div> 
      <div class="day-name">
       Sen
      </div> 
      <div class="day-name">
       Sel
      </div> 
      <div class="day-name">
       Rab
      </div> 
      <div class="day-name">
       Kam
      </div> 
      <div class="day-name">
       Jum
      </div> 
      <div class="day-name">
       Sab
      </div> 
      </div> 
    </div> 
    <div class="coming-soon" style="margin-top: 40px; max-width: 800px;"> 
     <h3><i class="fas fa-calendar-check"></i> Kegiatan Mendatang</h3> 
     <ul class="timeline" id="upcoming-events-list"> 
        </ul> 
    </div> 
    <div class="action-buttons"> <button class="btn btn-outline" onclick="alert('Fitur notifikasi akan aktif segera!')"> <i class="fas fa-bell"></i> Aktifkan Pengingat </button> 
    </div> 
   </div> 
  </div> <div id="galeri-page" class="page-content"> 
   <div class="not-found-container"> 
    <div class="not-found-icon"> <i class="fas fa-images"></i> 
    </div> 
    <h1 class="not-found-title">Galeri Digital <span>Segera Hadir</span></h1> 
    <p class="not-found-desc"> Kami sedang mengumpulkan dan mengorganisir momen-momen terbaik dari berbagai kegiatan OSIM. Galeri digital ini akan menjadi arsip visual yang lengkap untuk dokumentasi dan kenangan. </p> 
    <div class="gallery-preview"> 
     <div class="gallery-item"> 
      <div class="gallery-placeholder"> <i class="fas fa-camera"></i> <small>Kegiatan OSIM</small> 
      </div> 
     </div> 
     <div class="gallery-item"> 
      <div class="gallery-placeholder"> <i class="fas fa-users"></i> <small>Team Building</small> 
      </div> 
     </div> 
     <div class="gallery-item"> 
      <div class="gallery-placeholder"> <i class="fas fa-trophy"></i> <small>Prestasi</small> 
      </div> 
     </div> 
     <div class="gallery-item"> 
      <div class="gallery-placeholder"> <i class="fas fa-graduation-cap"></i> <small>Pelatihan</small> 
      </div> 
     </div> 
     <div class="gallery-item"> 
      <div class="gallery-placeholder"> <i class="fas fa-tree"></i> <small>Lingkungan</small> 
      </div> 
     </div> 
     <div class="gallery-item"> 
      <div class="gallery-placeholder"> <i class="fas fa-star"></i> <small>Momen Spesial</small> 
      </div> 
     </div> 
    </div> 
    <div class="album-stats"> 
     <div class="album-stat"> <i class="fas fa-folder"></i> 
      <div class="album-count" id="stat-albums">
       0
      </div> 
      <div class="album-label">
       Album
      </div> 
     </div> 
     <div class="album-stat"> <i class="fas fa-image"></i> 
      <div class="album-count" id="stat-photos">
       0
      </div> 
      <div class="album-label">
       Foto
      </div> 
     </div> 
     <div class="album-stat"> <i class="fas fa-video"></i> 
      <div class="album-count" id="stat-videos">
       0
      </div> 
      <div class="album-label">
       Video
      </div> 
     </div> 
     <div class="album-stat"> <i class="fas fa-eye"></i> 
      <div class="album-count" id="stat-views">
       0
      </div> 
      <div class="album-label">
       Dilihat
      </div> 
     </div> 
    </div> 
    <div class="action-buttons"> <button class="btn btn-outline" onclick="alert('Galeri akan menampilkan dokumentasi kegiatan OSIM yang diupload oleh admin.')"> <i class="fas fa-images"></i> Jelajahi Galeri </button> 
    </div> 
   </div> 
  </div> <div id="profil-page" class="page-content"> 
   <div class="not-found-container"> 
    <div class="not-found-icon"> <i class="fas fa-user-friends"></i> 
    </div> 
    <h1 class="not-found-title">Profil Pengurus <span>Segera Lengkap</span></h1> 
    <p class="not-found-desc"> Kami sedang mempersiapkan profil lengkap seluruh pengurus OSIM periode 2025/2026. Halaman ini akan menampilkan struktur organisasi, biodata, dan kontak masing-masing pengurus. </p> 
    <div class="team-structure"> 
     <div class="team-level"> 
      <div class="level-title"> <i class="fas fa-crown"></i> Pengurus Inti 
      </div> 
      <ul class="level-members"> 
       <li> 
        <div class="member-avatar"> <i class="fas fa-user"></i> 
        </div> 
        <div class="member-info"> 
         <div class="member-name">
          Sedang Diproses
         </div> 
         <div class="member-role">
          Ketua OSIM
         </div> 
        </div> </li> 
       <li> 
        <div class="member-avatar"> <i class="fas fa-user"></i> 
        </div> 
        <div class="member-info"> 
         <div class="member-name">
          Segera Diumumkan
         </div> 
         <div class="member-role">
          Wakil Ketua
         </div> 
        </div> </li> 
      </ul> 
     </div> 
     <div class="team-level"> 
      <div class="level-title"> <i class="fas fa-users"></i> Bidang Khusus 
      </div> 
      <ul class="level-members"> 
       <li> 
        <div class="member-avatar"> <i class="fas fa-pencil-alt"></i> 
        </div> 
        <div class="member-info"> 
         <div class="member-name">
          Dalam Seleksi
         </div> 
         <div class="member-role">
          Sekretaris &amp; Bendahara
         </div> 
        </div> </li> 
       <li> 
        <div class="member-avatar"> <i class="fas fa-bullhorn"></i> 
        </div> 
        <div class="member-info"> 
         <div class="member-name">
          Proses Rekrutmen
         </div> 
         <div class="member-role">
          Humas &amp; Publikasi
         </div> 
        </div> </li> 
      </ul> 
     </div> 
     <div class="team-level"> 
      <div class="level-title"> <i class="fas fa-star"></i> Divisi 
      </div> 
      <ul class="level-members"> 
       <li> 
        <div class="member-avatar"> <i class="fas fa-palette"></i> 
        </div> 
        <div class="member-info"> 
         <div class="member-name">
          Akan Ditentukan
         </div> 
         <div class="member-role">
          Divisi Kreatif
         </div> 
        </div> </li> 
       <li> 
        <div class="member-avatar"> <i class="fas fa-calendar-check"></i> 
        </div> 
        <div class="member-info"> 
         <div class="member-name">
          Dalam Pembentukan
         </div> 
         <div class="member-role">
          Divisi Acara
         </div> 
        </div> </li> 
      </ul> 
     </div> 
    </div> 
    <div class="structure-info"> 
     <h3>Fitur Profil Pengurus yang Akan Hadir</h3> 
     <div class="structure-features"> 
      <div class="feature"> <i class="fas fa-id-card"></i> 
       <div> <strong>Biodata Lengkap</strong> 
        <div style="font-size: 0.9rem; opacity: 0.8;">
         Foto, kelas, dan kontak
        </div> 
       </div> 
      </div> 
      <div class="feature"> <i class="fas fa-tasks"></i> 
       <div> <strong>Tugas &amp; Tanggung Jawab</strong> 
        <div style="font-size: 0.9rem; opacity: 0.8;">
         Detail peran masing-masing
        </div> 
       </div> 
      </div> 
      <div class="feature"> <i class="fas fa-envelope"></i> 
       <div> <strong>Kontak Langsung</strong> 
        <div style="font-size: 0.9rem; opacity: 0.8;">
         Email &amp; media sosial
        </div> 
       </div> 
      </div> 
      <div class="feature"> <i class="fas fa-chart-line"></i> 
       <div> <strong>Pencapaian</strong> 
        <div style="font-size: 0.9rem; opacity: 0.8;">
         Proyek dan kontribusi
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
    <div class="action-buttons"> <button class="btn btn-outline" onclick="alert('Pengumuman seleksi pengurus akan segera dibuka!')"> <i class="fas fa-user-plus"></i> Info Rekrutmen </button> 
    </div> 
   </div> 
  </div> 
  <footer>
    © 2026 OSIM DIGITAL. Hak Cipta Dilindungi. 
  </footer> 

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, onValue, set, get } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

    // Gunakan ini untuk mengganti firebaseConfig yang lama di kedua file
const firebaseConfig = {
  apiKey: "AIzaSyCT7yu1D0qsW2lyK4ZMYia029nEvvMMDCs",
  authDomain: "webosim-5c4a7.firebaseapp.com",
  projectId: "webosim-5c4a7",
  storageBucket: "webosim-5c4a7.firebasestorage.app",
  messagingSenderId: "769601153494",
  appId: "1:769601153494:web:057f7f8ec7574ba486dc77",
  measurementId: "G-QEBT3N7QGL",
  // URL DATABASE YANG SUDAH SESUAI REGION SINGAPORE:
  databaseURL: "https://webosim-5c4a7-default-rtdb.asia-southeast1.firebasedatabase.app"
};


    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const analytics = getAnalytics(app);

    // --- LOGIKA TEMA DENGAN DATABASE (Persistensi Lintas Perangkat) ---
    // Menggunakan ID anonim sementara untuk user (bisa ditingkatkan dengan Firebase Auth)
    const userId = "guest_user_1"; 

    window.toggleTheme = function() {
        const body = document.body;
        const icon = document.getElementById('theme-icon');
        const isDark = body.classList.toggle('dark-mode');
        
        // Update Icon
        if(isDark) {
            icon.classList.replace('fa-moon', 'fa-sun');
        } else {
            icon.classList.replace('fa-sun', 'fa-moon');
        }

        // Simpan ke Firebase Database daripada LocalStorage
        set(ref(db, 'users/' + userId + '/settings'), {
            theme: isDark ? 'dark' : 'light'
        });
    };

    // Load Theme dari Firebase saat mulai
    onValue(ref(db, 'users/' + userId + '/settings/theme'), (snapshot) => {
        const theme = snapshot.val();
        const body = document.body;
        const icon = document.getElementById('theme-icon');
        
        if (theme === 'dark') {
            body.classList.add('dark-mode');
            icon.classList.replace('fa-moon', 'fa-sun');
        } else {
            body.classList.remove('dark-mode');
            icon.classList.replace('fa-sun', 'fa-moon');
        }
    });

    // --- LOGIKA PENGUMUMAN DARI DATABASE ---
    const annRef = ref(db, 'announcements');
    onValue(annRef, (snapshot) => {
        const container = document.getElementById('announcement-container');
        const data = snapshot.val();
        
        if (data) {
            container.innerHTML = '';
            Object.values(data).forEach(item => {
                const card = `
                    <div class="announcement-card"> 
                        <div class="announcement-header"> 
                            <span class="announcement-badge" style="background: ${item.color || '#1E40AF'};">${item.tag}</span> 
                            <span class="announcement-date">${item.date}</span> 
                        </div> 
                        <h3 class="announcement-title">${item.title}</h3> 
                        <p class="announcement-content">${item.content}</p> 
                        <div class="announcement-footer"> 
                            <div class="announcement-attachment"> <i class="fas fa-paperclip"></i> <span>${item.file || 'Dokumen.pdf'}</span> </div> 
                            <button class="btn" onclick="alert('${item.alertText}')" style="padding: 8px 15px; font-size: 0.9rem;"> Lihat Detail </button> 
                        </div> 
                    </div>`;
                container.innerHTML += card;
            });
        } else {
            // Jika database kosong, tampilkan placeholder/statis
            container.innerHTML = '<p>Belum ada pengumuman terbaru.</p>';
        }
    });

    // --- LOGIKA EVENT/KALENDER DARI DATABASE ---
    window.getEventsForDate = function(year, month, day) {
        // Logika ini akan dipanggil oleh renderCalendarDays
        // Untuk sinkronisasi real-time, kita bisa mendengarkan node 'events'
        return window.firebaseEvents ? window.firebaseEvents[`${year}-${month + 1}-${day}`] || [] : [];
    };

    onValue(ref(db, 'events'), (snapshot) => {
        window.firebaseEvents = snapshot.val() || {};
        const upcomingList = document.getElementById('upcoming-events-list');
        upcomingList.innerHTML = '';
        
        // Render list kegiatan mendatang
        Object.entries(window.firebaseEvents).forEach(([date, eventArr]) => {
            eventArr.forEach(evtName => {
                upcomingList.innerHTML += `<li><i class="fas fa-calendar-check"></i> <strong>${evtName}:</strong> ${date}</li>`;
            });
        });

        // Re-render kalender jika sedang dibuka
        if (document.getElementById('kegiatan-page').classList.contains('active')) {
            renderCalendarDays(currentDate.getFullYear(), currentDate.getMonth());
        }
    });

    // --- LOGIKA STATISTIK GALERI DARI DATABASE ---
    onValue(ref(db, 'stats/gallery'), (snapshot) => {
        const stats = snapshot.val();
        if (stats) {
            document.getElementById('stat-albums').textContent = stats.albums || 0;
            document.getElementById('stat-photos').textContent = stats.photos || 0;
            document.getElementById('stat-videos').textContent = stats.videos || 0;
            document.getElementById('stat-views').textContent = stats.views || 0;
        }
    });

  </script>

  <script>
        let currentDate = new Date();

        document.addEventListener('DOMContentLoaded', function() {
            showPage('home');
        });

        function toggleMenu() {
            const menu = document.getElementById('side-menu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.toggle('active');
            hamburger.classList.toggle('active');
            document.body.style.overflow = menu.classList.contains('active') ? 'hidden' : 'auto';
        }

        function showPage(pageName) {
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.remove('active'));
            
            const selectedPage = document.getElementById(pageName + '-page');
            if (selectedPage) {
                selectedPage.classList.add('active');
                if (pageName === 'kegiatan') {
                    setTimeout(() => {
                        updateCalendar();
                        renderCalendarDays(currentDate.getFullYear(), currentDate.getMonth());
                    }, 100);
                }
            }
            
            document.title = (pageName === 'home') ? 'OSIM DIGITAL | Official Site' : getPageTitle(pageName) + ' | OSIM DIGITAL';
            
            const menu = document.getElementById('side-menu');
            const hamburger = document.querySelector('.hamburger');
            if (menu.classList.contains('active')) {
                menu.classList.remove('active');
                hamburger.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            window.scrollTo(0, 0);
        }

        function getPageTitle(pageName) {
            const titles = { 'home': 'Beranda', 'proker': 'Program Kerja', 'pengumuman': 'Pengumuman OSIM', 'kegiatan': 'Kegiatan', 'galeri': 'Galeri', 'profil': 'Profil Pengurus' };
            return titles[pageName] || 'Halaman';
        }

        function updateCalendar() {
            const options = { month: 'long', year: 'numeric' };
            const monthElement = document.getElementById('currentMonth');
            if (monthElement) {
                monthElement.textContent = currentDate.toLocaleDateString('id-ID', options);
            }
        }

        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            updateCalendar();
            renderCalendarDays(currentDate.getFullYear(), currentDate.getMonth());
        }

        function renderCalendarDays(year, month) {
            const now = new Date();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const calendarGrid = document.getElementById('calendarGrid');
            if (!calendarGrid) return;
            
            const dayNames = calendarGrid.querySelectorAll('.day-name');
            calendarGrid.innerHTML = '';
            dayNames.forEach(name => calendarGrid.appendChild(name));
            
            for (let i = 0; i < firstDayOfMonth; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'day';
                calendarGrid.appendChild(emptyDay);
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                dayElement.textContent = day;
                
                if (day === now.getDate() && year === now.getFullYear() && month === now.getMonth()) {
                    dayElement.style.background = 'rgba(30, 64, 175, 0.2)';
                    dayElement.style.fontWeight = 'bold';
                }
                
                // Panggil fungsi global yang bisa diakses Firebase
                if (typeof window.getEventsForDate === 'function') {
                    const events = window.getEventsForDate(year, month, day);
                    if (events.length > 0) {
                        dayElement.classList.add('event');
                        dayElement.title = events.join('\n');
                    }
                }
                calendarGrid.appendChild(dayElement);
            }
        }

        document.addEventListener('click', function(e) {
            if (e.target.closest('.gallery-item')) alert('Galeri lengkap akan segera tersedia!');
            if (e.target.closest('.level-members li')) alert('Profil lengkap akan tersedia segera!');
        });
    </script> 
</body></html>
